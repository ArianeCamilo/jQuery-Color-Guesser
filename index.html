<html>
    <head>
        <title>jQuery Course</title>
        <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono" rel="stylesheet">
    </head>
    <body>
        <h1>Welcome</h1>
        <div id="start">Start Game</div>
        <div id="gamearea">
            <div id="findme">Match this color<br>
                <span id="message"></span></div>
            <div id="output"></div>
        </div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                var colorArray = [];
                $("#gamearea").hide();
                $("#start").click(startGame);
                $("#output").on("click",".cell",checkCell);
                $("body").css({
                    backgroundColor:"#D4F9F9",
                    fontFamily: 'IBM Plex Mono',
                    textAlign:"center"
                })
                $("#start").css({
                    border: "2px solid black",
                    textAlign:"center",
                    padding:"10px",
                    width:"150px",
                    backgroundColor: "#C9C3E5",
                    fontSize:"2em",
                    marginBottom:"10px",
                    color: "white",
                    display:"inline-block"   
                })
                $("#findme").css({
                    border: "2px solid black",
                    textAlign:"center",
                    padding:"0",
                    width:"400px",                    
                    fontSize:"2em",
                    height:"50px",
                    display:"inline-block"                    
                })

                function checkCell(){
                    var curColor = $(this).css("backgroundColor");
                    if(curColor == $("#findme").css("backgroundColor")){
                        var cntValue = Number($(this).text());
                        cntValue++;
                        $(this).text(cntValue);
                        $(this).css("backgroundColor",addNewColor());   
                        pickMyColor();                     
                    }else{
                        
                    }
                }

                function startGame(){
                    makeBoard();
                    pickMyColor();
                    $("#start").hide();
                    $("#gamearea").show();
                    console.log("game started");
                }

                function addNewColor(){
                    var trackColor = randomColor();
                    colorArray.push(trackColor);
                    return trackColor;
                }
                function makeBoard(){
                    var x = 4;
                    var html = "";
                    for(var row = 0 ; row < x; row++){
                        html += '<div class="row">';
                        for(var col = 0; col < x; col++){
                            html += '<div class="cell" style="background-color:'+addNewColor()+'">0</div>';
                        }
                        html += '</div>';
                    }
                    $("#output").html(html);
                    $(".cell").css({
                    border: "1px solid white",
                    textAlign:"center",
                    padding:"0",
                    margin:"0.5px",
                    width:"100px",
                    height:"100px",                                       
                    fontSize:"2em",
                    color: "black",
                    display:"inline-block"
                    })
                }
                function pickMyColor(){
                    var index = Math.floor(Math.random()*colorArray.length);
                    var picked = colorArray.splice(index,1);
                    $("#findme").css("background-color", picked);

                }
                function randomColor(){
                    return "#" + ((1<<24)*Math.random() | 0).toString(16);

                }
            })

            
        </script>
    </body>
</html>